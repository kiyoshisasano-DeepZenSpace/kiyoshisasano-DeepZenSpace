<svg width="1600" height="960" viewBox="0 0 1200 720" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 28px;
        font-weight: 700;
        fill: #111827;
      }
      .subtitle {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 16px;
        fill: #4b5563;
      }
      .section-title {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 18px;
        font-weight: 600;
        fill: #111827;
      }
      .box-title {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 14px;
        font-weight: 600;
        fill: #111827;
      }
      .box-body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 12px;
        fill: #4b5563;
      }
      .mono {
        font-family: "JetBrains Mono", "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        fill: #111827;
      }
      .phase {
        fill: #dbeafe;
        stroke: #60a5fa;
        stroke-width: 1.2;
        rx: 10;
      }
      .folder {
        fill: #f3f4f6;
        stroke: #d1d5db;
        stroke-width: 1.1;
        rx: 10;
      }
      .pill {
        fill: #eef2ff;
        stroke: #a5b4fc;
        stroke-width: 1;
        rx: 12;
      }
      .arrow {
        stroke: #9ca3af;
        stroke-width: 1.4;
        marker-end: url(#arrowhead);
      }
      .loop-arrow {
        stroke: #9ca3af;
        stroke-width: 1.2;
        stroke-dasharray: 4 3;
        marker-end: url(#arrowhead);
      }
      .badge {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 10px;
        fill: #6b7280;
      }
      .label-bg {
        fill: white;
        opacity: 0.9;
      }
    </style>

    <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L6,3 L0,6 z" fill="#9ca3af" />
    </marker>
  </defs>

  <!-- Header -->
  <text x="40" y="60" class="title">PLD: Phase Loop Dynamics</text>
  <text x="40" y="90" class="subtitle">
    Runtime governance layer (framework-agnostic) for stabilizing multi-turn LLM agents
  </text>

  <!-- Left: Runtime Loop -->
  <text x="40" y="135" class="section-title">1. PLD Runtime Loop</text>
  <text x="320" y="135" class="badge">interaction lifecycle control</text>

  <!-- Phases row -->
  <rect x="40" y="160" width="120" height="60" class="phase"/>
  <text x="100" y="185" text-anchor="middle" class="box-title">Drift</text>
  <text x="100" y="203" text-anchor="middle" class="box-body">detect misalignment</text>

  <rect x="210" y="160" width="120" height="60" class="phase"/>
  <text x="270" y="185" text-anchor="middle" class="box-title">Repair</text>
  <text x="270" y="203" text-anchor="middle" class="box-body">soft / hard correction</text>

  <rect x="380" y="160" width="120" height="60" class="phase"/>
  <text x="440" y="185" text-anchor="middle" class="box-title">Reentry</text>
  <text x="440" y="203" text-anchor="middle" class="box-body">verify alignment restored</text>

  <rect x="550" y="160" width="120" height="60" class="phase"/>
  <text x="610" y="185" text-anchor="middle" class="box-title">Continue</text>
  <text x="610" y="203" text-anchor="middle" class="box-body">resume execution</text>

  <rect x="720" y="160" width="120" height="60" class="phase"/>
  <text x="780" y="185" text-anchor="middle" class="box-title">Outcome</text>
  <text x="780" y="203" text-anchor="middle" class="box-body">complete / fail / abandon</text>

  <!-- Phase arrows -->
  <line x1="160" y1="190" x2="210" y2="190" class="arrow"/>
  <line x1="330" y1="190" x2="380" y2="190" class="arrow"/>
  <line x1="500" y1="190" x2="550" y2="190" class="arrow"/>
  <line x1="670" y1="190" x2="720" y2="190" class="arrow"/>

  <!-- Loopback from Outcome to Drift -->
  <path d="M780 220 C 780 260, 160 260, 100 220" class="loop-arrow" fill="none"/>

  <!-- Loop label -->
  <rect x="410" y="235" width="220" height="26" class="pill"/>
  <text x="520" y="252" text-anchor="middle" class="badge">
    multi-turn runtime loop (session continues)
  </text>

  <!-- Updated Metrics -->
  <text x="875" y="182" class="box-title">Operational Metrics (Runtime + Evaluation)</text>
  <text x="875" y="200" class="box-body">PRDR — repair durability</text>
  <text x="875" y="218" class="box-body">REI — repair efficiency</text>
  <text x="875" y="236" class="box-body">VRL — visible repair load</text>
  <text x="875" y="254" class="box-body">MRBF — mean repairs before failover</text>
  <text x="875" y="272" class="box-body">FR — failover rate</text>

  <!-- Logs to metrics -->
  <line x1="840" y1="190" x2="860" y2="190" class="arrow"/>
  <text x="840" y="182" text-anchor="end" class="badge">logs</text>

  <!-- Feedback arrow -->
  <line x1="960" y1="292" x2="520" y2="220" class="arrow"/>
  <text x="740" y="236" text-anchor="middle" class="badge">runtime control feedback</text>

  <!-- Repository -->
  <text x="40" y="295" class="section-title">2. Implementation → Evidence → Governance</text>
  <text x="40" y="317" class="subtitle">
    PLD moves from model → runtime patterns → measured stability → operational governance
  </text>

  <!-- /quickstart -->
  <rect x="40" y="380" width="300" height="120" class="folder"/>
  <text x="60" y="405" class="box-title">/quickstart</text>
  <text x="60" y="425" class="box-body">Learning path &amp; patterns</text>
  <text x="60" y="445" class="box-body">overview → operators → patterns → recipes</text>
  <text x="60" y="465" class="box-body">runnable interaction examples</text>

  <!-- /pld_runtime -->
  <rect x="420" y="380" width="300" height="120" class="folder"/>
  <text x="440" y="405" class="box-title">/pld_runtime</text>
  <text x="440" y="425" class="box-body">Reference runtime implementation</text>
  <text x="440" y="445" class="box-body">ingestion → detection → enforcement → controller</text>
  <text x="440" y="465" class="box-body">optional — one possible implementation</text>

  <!-- /docs -->
  <rect x="800" y="380" width="360" height="120" class="folder"/>
  <text x="820" y="405" class="box-title">/docs</text>
  <text x="820" y="425" class="box-body">conceptual model, taxonomy, operational metrics</text>
  <text x="820" y="445" class="box-body">reference definitions &amp; governance</text>

  <!-- /analytics -->
  <rect x="40" y="540" width="360" height="130" class="folder"/>
  <text x="60" y="565" class="box-title">/analytics</text>
  <text x="60" y="585" class="box-body">benchmark datasets &amp; annotated traces</text>
  <text x="60" y="605" class="box-body">runtime stability comparisons</text>
  <text x="60" y="625" class="box-body">evidence layer validating alignment persistence</text>

  <!-- /field -->
  <rect x="460" y="540" width="360" height="130" class="folder"/>
  <text x="480" y="565" class="box-title">/field</text>
  <text x="480" y="585" class="box-body">collaboration &amp; rollout governance</text>
  <text x="480" y="605" class="box-body">adoption playbooks &amp; metrics alignment</text>
  <text x="480" y="625" class="box-body">production maturity framework</text>

  <!-- Footer -->
  <text x="40" y="700" class="badge">
    PLD: drift-aware, repair-capable, reentry-governed runtime behavior for multi-turn LLM systems.
  </text>
</svg>
