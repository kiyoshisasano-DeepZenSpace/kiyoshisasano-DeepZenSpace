<svg width="1200" height="720" viewBox="0 0 1200 720" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 28px;
        font-weight: 700;
        fill: #111827;
      }
      .subtitle {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 16px;
        fill: #4b5563;
      }
      .section-title {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 18px;
        font-weight: 600;
        fill: #111827;
      }
      .box-title {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 14px;
        font-weight: 600;
        fill: #111827;
      }
      .box-body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 12px;
        fill: #4b5563;
      }
      .mono {
        font-family: "JetBrains Mono", "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        fill: #111827;
      }
      .phase {
        fill: #dbeafe;           /* slightly deeper blue */
        stroke: #60a5fa;         /* more vivid border */
        stroke-width: 1.2;
        rx: 10;
      }
      .folder {
        fill: #f3f4f6;           /* slightly darker than white */
        stroke: #d1d5db;
        stroke-width: 1.1;
        rx: 10;
      }
      .pill {
        fill: #eef2ff;
        stroke: #a5b4fc;
        stroke-width: 1;
        rx: 12;
      }
      .arrow {
        stroke: #9ca3af;
        stroke-width: 1.4;
        marker-end: url(#arrowhead);
      }
      .loop-arrow {
        stroke: #9ca3af;
        stroke-width: 1.2;
        stroke-dasharray: 4 3;
        marker-end: url(#arrowhead);
      }
      .badge {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        font-size: 10px;
        fill: #6b7280;
      }
    </style>

    <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L6,3 L0,6 z" fill="#9ca3af" />
    </marker>
  </defs>

  <!-- Header -->
  <text x="40" y="60" class="title">PLD: Phase Loop Dynamics</text>
  <text x="40" y="90" class="subtitle">
    Runtime governance for stabilizing multi-turn LLM agents via Drift → Repair → Reentry → Continue → Outcome
  </text>

  <!-- Left: Runtime Loop -->
  <text x="40" y="135" class="section-title">1. PLD Runtime Loop</text>
  <text x="320" y="135" class="badge">framework-agnostic semantics layer</text>

  <!-- Phases row -->
  <!-- Drift -->
  <rect x="40" y="160" width="120" height="60" class="phase"/>
  <text x="100" y="185" text-anchor="middle" class="box-title">Drift</text>
  <text x="100" y="203" text-anchor="middle" class="box-body">detect misalignment</text>

  <!-- Repair -->
  <rect x="210" y="160" width="120" height="60" class="phase"/>
  <text x="270" y="185" text-anchor="middle" class="box-title">Repair</text>
  <text x="270" y="203" text-anchor="middle" class="box-body">soft / hard correction</text>

  <!-- Reentry -->
  <rect x="380" y="160" width="120" height="60" class="phase"/>
  <text x="440" y="185" text-anchor="middle" class="box-title">Reentry</text>
  <text x="440" y="203" text-anchor="middle" class="box-body">confirm alignment</text>

  <!-- Continue -->
  <rect x="550" y="160" width="120" height="60" class="phase"/>
  <text x="610" y="185" text-anchor="middle" class="box-title">Continue</text>
  <text x="610" y="203" text-anchor="middle" class="box-body">resume task</text>

  <!-- Outcome -->
  <rect x="720" y="160" width="120" height="60" class="phase"/>
  <text x="780" y="185" text-anchor="middle" class="box-title">Outcome</text>
  <text x="780" y="203" text-anchor="middle" class="box-body">complete / fail / abandon</text>

  <!-- Phase arrows -->
  <line x1="160" y1="190" x2="210" y2="190" class="arrow"/>
  <line x1="330" y1="190" x2="380" y2="190" class="arrow"/>
  <line x1="500" y1="190" x2="550" y2="190" class="arrow"/>
  <line x1="670" y1="190" x2="720" y2="190" class="arrow"/>

  <!-- Loopback from Outcome to Drift -->
  <path d="M780 220 C 780 260, 160 260, 100 220" class="loop-arrow" fill="none"/>

  <!-- Loop label -->
  <rect x="410" y="235" width="220" height="26" class="pill"/>
  <text x="520" y="252" text-anchor="middle" class="badge">
    multi-turn interaction loop (session continues)
  </text>

  <!-- Metrics pill (evaluation + runtime signals) -->
  <rect x="860" y="160" width="280" height="92" class="folder"/>
  <text x="875" y="182" class="box-title">Operational Metrics &amp; Runtime Signals</text>
  <text x="875" y="200" class="box-body">for evaluation &amp; runtime decision support</text>
  <text x="875" y="218" class="box-body">PRDR — Post-Repair Drift Recurrence</text>
  <text x="875" y="233" class="box-body">REI — Repair Efficiency Index; VRL — Visible Repair Load</text>

  <!-- Logs from loop to metrics -->
  <line x1="840" y1="190" x2="860" y2="190" class="arrow"/>
  <text x="840" y="182" text-anchor="end" class="badge">logs</text>

  <!-- Feedback from metrics back to runtime loop -->
  <line x1="960" y1="252" x2="520" y2="220" class="arrow"/>
  <text x="740" y="236" text-anchor="middle" class="badge">runtime control / alerts</text>

  <!-- Mental Model (moved near top right) -->
  <rect x="860" y="270" width="280" height="100" class="folder"/>
  <text x="880" y="292" class="box-title">Mental Model</text>
  <text x="880" y="312" class="box-body">PLD = behavioral infrastructure for agents.</text>
  <text x="880" y="330" class="box-body">Key principles:</text>
  <text x="892" y="348" class="box-body">• framework-agnostic semantics layer</text>
  <text x="892" y="364" class="box-body">• adopted as pattern, not as a package</text>

  <!-- Middle separator title -->
  <text x="40" y="320" class="section-title">2. From Model → Code → Evidence</text>
  <text x="40" y="342" class="subtitle">
    PLD is a runtime governance model, implemented via patterns and runtime code, and validated with metrics &amp; datasets.
  </text>

  <!-- Bottom: Repository Areas -->

  <!-- quickstart -->
  <rect x="40" y="380" width="300" height="120" class="folder"/>
  <text x="60" y="405" class="box-title">/quickstart</text>
  <text x="60" y="425" class="box-body">Learning path &amp; implementation patterns</text>
  <text x="60" y="445" class="box-body">overview → operators → patterns → recipes</text>
  <text x="60" y="465" class="box-body">runnable examples with PLD behavior</text>

  <!-- pld_runtime -->
  <rect x="420" y="380" width="300" height="120" class="folder"/>
  <text x="440" y="405" class="box-title">/pld_runtime</text>
  <text x="440" y="425" class="box-body">Reference runtime implementation</text>
  <text x="440" y="445" class="box-body">ingestion → detection → enforcement → controller</text>
  <text x="440" y="465" class="box-body">optional — one possible implementation approach</text>

  <!-- docs -->
  <rect x="800" y="380" width="360" height="120" class="folder"/>
  <text x="820" y="405" class="box-title">/docs</text>
  <text x="820" y="425" class="box-body">Conceptual model, taxonomy, operational metrics</text>
  <text x="820" y="445" class="box-body">Reference definitions for PLD codes &amp; behaviors</text>

  <!-- analytics -->
  <rect x="40" y="540" width="360" height="130" class="folder"/>
  <text x="60" y="565" class="box-title">/analytics</text>
  <text x="60" y="585" class="box-body">Evaluation datasets &amp; case studies</text>
  <text x="60" y="605" class="box-body">Benchmark &amp; production traces for stability</text>
  <text x="60" y="625" class="box-body">Evidence layer: validates PLD-governed behavior</text>

  <!-- field -->
  <rect x="460" y="540" width="360" height="130" class="folder"/>
  <text x="480" y="565" class="box-title">/field</text>
  <text x="480" y="585" class="box-body">Collaboration &amp; adoption playbooks</text>
  <text x="480" y="605" class="box-body">Minimal protocol &amp; role alignment templates</text>
  <text x="480" y="625" class="box-body">Shared scope, metrics, and review rituals</text>

  <!-- Connections from runtime loop to repo blocks -->
  <line x1="440" y1="260" x2="190" y2="380" class="arrow"/>
  <text x="210" y="330" class="badge">implements patterns</text>

  <line x1="540" y1="260" x2="570" y2="380" class="arrow"/>
  <text x="550" y="330" class="badge">reference implementation</text>

  <line x1="640" y1="260" x2="960" y2="380" class="arrow"/>
  <text x="860" y="330" class="badge">defines semantics</text>

  <line x1="720" y1="260" x2="220" y2="540" class="arrow"/>
  <text x="260" y="330" class="badge">validates behavior</text>

  <!-- Footer -->
  <text x="40" y="700" class="badge">
    PLD: drift-aware, repair-capable, reentry-governed runtime behavior for multi-turn LLM systems.
  </text>
</svg>
