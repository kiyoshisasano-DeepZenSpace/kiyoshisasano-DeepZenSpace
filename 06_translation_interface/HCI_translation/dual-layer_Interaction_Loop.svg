<svg width="600" height="450" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <style>
    .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #2c3e50; }
    .label { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
    .layer-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
    .legend { font-family: Arial, sans-serif; font-size: 11px; fill: #2c3e50; }
  </style>
  
  <!-- 背景 -->
  <rect width="100%" height="100%" fill="#f8f9fa"/>
  
  <!-- タイトル -->
  <text x="300" y="30" text-anchor="middle" class="title">Figure 1: Dual-Layer Interaction Framework</text>
  
  <!-- メインの相互作用ループ -->
  <g transform="translate(300, 220)">
    <!-- 外側の透明性層ループ -->
    <ellipse cx="0" cy="0" rx="180" ry="120" fill="none" stroke="#3498db" stroke-width="3" stroke-dasharray="5,5"/>
    <text x="-85" y="-140" class="layer-title" fill="#3498db">Epistemic Transparency Layer</text>
    
    <!-- 内側のリズム層ループ -->
    <ellipse cx="0" cy="0" rx="120" ry="80" fill="none" stroke="#e74c3c" stroke-width="3"/>
    <text x="-65" y="-90" class="layer-title" fill="#e74c3c">Interaction Rhythm Layer</text>
    
    <!-- 中心のAIシステム -->
    <circle cx="0" cy="0" r="40" fill="#2c3e50" stroke="#34495e" stroke-width="2"/>
    <text x="0" y="5" text-anchor="middle" class="label" fill="white">AI System</text>
    
    <!-- ユーザー要素 -->
    <g transform="translate(-220, 0)">
      <rect x="-25" y="-15" width="50" height="30" rx="5" fill="#27ae60" stroke="#2ecc71" stroke-width="2"/>
      <text x="0" y="5" text-anchor="middle" class="label" fill="white">User</text>
    </g>
    
    <!-- リズム層の要素 -->
    <g>
      <circle cx="-80" cy="-60" r="6" fill="#e74c3c"/>
      <text x="-80" y="-75" text-anchor="middle" class="label">Query</text>
      <line x1="-35" y1="-20" x2="-74" y2="-54" stroke="#e74c3c" stroke-width="2"/>
    </g>
    
    <g>
      <circle cx="80" cy="-60" r="6" fill="#e74c3c"/>
      <text x="80" y="-75" text-anchor="middle" class="label">Pause &amp; Repair</text>
      <line x1="35" y1="-20" x2="74" y2="-54" stroke="#e74c3c" stroke-width="2"/>
    </g>
    
    <g>
      <circle cx="0" cy="80" r="6" fill="#e74c3c"/>
      <text x="0" y="95" text-anchor="middle" class="label">Latency</text>
      <line x1="0" y1="40" x2="0" y2="74" stroke="#e74c3c" stroke-width="2"/>
    </g>
    
    <!-- 透明性層の要素 -->
    <g>
      <circle cx="-140" cy="-30" r="6" fill="#3498db"/>
      <text x="-140" y="-45" text-anchor="middle" class="label">Uncertainty Cues</text>
      <line x1="-95" y1="-15" x2="-134" y2="-24" stroke="#3498db" stroke-width="2" stroke-dasharray="3,3"/>
    </g>
    
    <g>
      <circle cx="140" cy="-30" r="6" fill="#3498db"/>
      <text x="140" y="-45" text-anchor="middle" class="label">System Explanation</text>
      <line x1="95" y1="-15" x2="134" y2="-24" stroke="#3498db" stroke-width="2" stroke-dasharray="3,3"/>
    </g>
    
    <g>
      <circle cx="0" cy="-130" r="6" fill="#3498db"/>
      <text x="0" y="-145" text-anchor="middle" class="label">Confidence Calibration</text>
      <line x1="0" y1="-85" x2="0" y2="-124" stroke="#3498db" stroke-width="2" stroke-dasharray="3,3"/>
    </g>
    
    <!-- 相互作用矢印 -->
    <g>
      <!-- ユーザーからAIシステムへ -->
      <path d="M -170 0 L -45 0" stroke="#27ae60" stroke-width="2" fill="none">
        <marker markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
          <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60"/>
        </marker>
      </path>
      
      <!-- AIシステムからユーザーへ -->
      <path d="M 45 0 L 170 0" stroke="#3498db" stroke-width="2" fill="none">
        <marker markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
          <polygon points="0 0, 10 3.5, 0 7" fill="#3498db"/>
        </marker>
      </path>
    </g>
    
    <!-- 層間の双方向矢印 -->
    <g>
      <path d="M -20 80 L -20 110" stroke="#9b59b6" stroke-width="2" fill="none">
        <marker markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
          <polygon points="0 0, 10 3.5, 0 7" fill="#9b59b6"/>
        </marker>
      </path>
      <path d="M 20 110 L 20 80" stroke="#9b59b6" stroke-width="2" fill="none">
        <marker markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
          <polygon points="0 0, 10 3.5, 0 7" fill="#9b59b6"/>
        </marker>
      </path>
      <text x="25" y="100" class="label" fill="#9b59b6">Temporal Transparency</text>
      <text x="25" y="112" class="label" fill="#9b59b6">Feedback Loop</text>
    </g>
  </g>
  
  <!-- 凡例 -->
  <g transform="translate(20, 380)">
    <rect x="0" y="0" width="12" height="12" fill="#e74c3c"/>
    <text x="20" y="10" class="legend">Rhythm Elements</text>
    
    <rect x="120" y="0" width="12" height="12" fill="#3498db"/>
    <text x="140" y="10" class="legend">Transparency Elements</text>
    
    <rect x="250" y="0" width="12" height="12" fill="#9b59b6"/>
    <text x="270" y="10" class="legend">Coupling Mechanism</text>
  </g>
</svg>
