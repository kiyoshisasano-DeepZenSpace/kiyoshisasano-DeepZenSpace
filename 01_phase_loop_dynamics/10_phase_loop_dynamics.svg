<svg xmlns="http://www.w3.org/2000/svg" width="980" height="740" viewBox="0 0 980 740" aria-labelledby="pldTitle pldDesc" role="img">
  <title id="pldTitle">Phase Loop Dynamics â€” Loop Map (v2)</title>
  <desc id="pldDesc">Nodes: Silence, Latent, Cue, Segment, Drift, Repair, Alignment. Loops ğ“›â‚â€“ğ“›â‚… drawn with distinct colors and arrowheads per the formal definitions.</desc>

  <defs>
    <!-- Arrowheads -->
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#303030"/>
    </marker>

    <!-- Loop palette (colorblind-friendly) -->
    <style><![CDATA[
      .node { stroke-width:3; }
      .label { font: 14px/1.2 Arial, Helvetica, sans-serif; text-anchor: middle; dominant-baseline: middle; fill:#1b1b1b; }
      .legendText { font: 12px Arial, Helvetica, sans-serif; fill:#1b1b1b; }
      .title { font: 24px Arial, Helvetica, sans-serif; font-weight: 700; text-anchor: middle; fill:#1b1b1b; }
      .subtitle { font: 12px Arial, Helvetica, sans-serif; text-anchor: middle; fill:#4b4b4b; }

      .L1 { stroke:#D81B60; }  /* ğ“›â‚ segment detection - raspberry */
      .L2 { stroke:#E65100; }  /* ğ“›â‚‚ driftâ€“repair - deep orange */
      .L3 { stroke:#2E7D32; }  /* ğ“›â‚ƒ latent phase - green */
      .L4 { stroke:#0B79D0; }  /* ğ“›â‚„ feedback reflex - blue */
      .L5 { stroke:#6A1B9A; }  /* ğ“›â‚… alignmentâ€“resonance - purple */

      .path { fill:none; stroke-width:3; marker-end:url(#arrow); }
      .hint { font: 11px Arial, Helvetica, sans-serif; fill:#555; }
    ]]></style>
  </defs>

  <!-- Title -->
  <text x="490" y="38" class="title">Phase Loop Dynamics</text>
  <text x="490" y="58" class="subtitle">Loops ğ“›â‚â€“ğ“›â‚… with Silence/Segment nodes (formal-map compliant)</text>

  <!-- ==== NODE COORDINATES ==== -->
  <!-- Row Y positions -->
  <!-- Top: y=130, Upper-mid: y=230, Mid: y=350, Lower-mid: y=480, Bottom: y=610 -->

  <!-- Nodes -->
  <!-- Silence -->
  <circle cx="170" cy="130" r="48" class="node" fill="#FAFAFA" stroke="#9E9E9E"/>
  <text x="170" y="130" class="label">Silence</text>

  <!-- Latent -->
  <circle cx="490" cy="130" r="50" class="node" fill="#FFF0F5" stroke="#DB7093"/>
  <text x="490" y="130" class="label">Latent</text>

  <!-- Cue -->
  <circle cx="810" cy="230" r="50" class="node" fill="#F0F8FF" stroke="#4682B4"/>
  <text x="810" y="230" class="label">Cue</text>

  <!-- Segment -->
  <circle cx="650" cy="350" r="50" class="node" fill="#FFFDE7" stroke="#D4AF37"/>
  <text x="650" y="350" class="label">Segment</text>

  <!-- Drift -->
  <circle cx="650" cy="610" r="50" class="node" fill="#FFF3CD" stroke="#B8860B"/>
  <text x="650" y="610" class="label">Drift</text>

  <!-- Repair -->
  <circle cx="330" cy="610" r="50" class="node" fill="#E6FFE6" stroke="#228B22"/>
  <text x="330" y="610" class="label">Repair</text>

  <!-- Alignment -->
  <circle cx="170" cy="300" r="50" class="node" fill="#E6F3FF" stroke="#3366CC"/>
  <text x="170" y="300" class="label">Alignment</text>

  <!-- ==== LOOPS / EDGES ==== -->

  <!-- ğ“›â‚: Segment detection â€” Silence/Latent â†’ Cue â†’ Segment -->
  <!-- Silence -> Cue -->
  <path class="path L1" d="M 205,130 C 360,95 660,120 760,200" />
  <!-- Latent -> Cue -->
  <path class="path L1" d="M 540,130 C 660,120 740,160 780,200" />
  <!-- Cue -> Segment -->
  <path class="path L1" d="M 770,250 C 740,290 700,320 690,335" />

  <!-- ğ“›â‚ƒ: Latent phase induction â€” Silence -> Latent -> Cue -> Segment (draw as distinct curves) -->
  <!-- Silence -> Latent -->
  <path class="path L3" d="M 218,130 C 300,130 390,130 440,130" />
  <!-- Latent -> Cue (upper arc) -->
  <path class="path L3" d="M 535,120 C 650,90 750,130 795,190" />
  <!-- Cue -> Segment (upper arc) -->
  <path class="path L3" d="M 790,215 C 760,230 720,280 690,330" />

  <!-- ğ“›â‚‚: Driftâ€“Repair â€” Segment -> Drift -> Cue -> Repair (core leg) -->
  <!-- Segment -> Drift -->
  <path class="path L2" d="M 650,400 C 650,470 650,520 650,560" />
  <!-- Drift -> Cue -->
  <path class="path L2" d="M 690,590 C 745,520 790,410 805,285" />
  <!-- Cue -> Repair -->
  <path class="path L2" d="M 780,255 C 640,360 470,520 360,590" />

  <!-- ğ“›â‚„: Feedback reflex â€” Drift -> Repair -> Cue -> Segment (reflex leg) -->
  <!-- Drift -> Repair -->
  <path class="path L4" d="M 600,610 C 520,610 430,610 380,610" />
  <!-- Repair -> Cue -->
  <path class="path L4" d="M 300,585 C 420,500 600,380 760,255" />
  <!-- (optional) Cue -> Segment (direct reflex) -->
  <path class="path L4" d="M 800,270 C 760,300 710,330 690,340" />

  <!-- ğ“›â‚…: Alignmentâ€“Resonance â€” Alignment -> Cue -> (closure/transfer) -->
  <!-- Alignment -> Cue -->
  <path class="path L5" d="M 220,300 C 380,260 620,230 760,230" />
  <!-- Closure: Cue -> Alignment (resonance echo) -->
  <path class="path L5" d="M 780,245 C 560,330 330,330 210,310" />

  <!-- ==== LOOP LABELS (subtle) ==== -->
  <text x="365" y="105" class="hint" fill="#D81B60">ğ“›â‚</text>
  <text x="610" y="95"  class="hint" fill="#2E7D32">ğ“›â‚ƒ</text>
  <text x="715" y="520" class="hint" fill="#E65100">ğ“›â‚‚</text>
  <text x="460" y="565" class="hint" fill="#0B79D0">ğ“›â‚„</text>
  <text x="420" y="255" class="hint" fill="#6A1B9A">ğ“›â‚…</text>

  <!-- ==== LEGEND ==== -->
  <rect x="40" y="650" width="900" height="70" fill="#FFFFFF" stroke="#DADADA" rx="8"/>
  <g transform="translate(60,665)">
    <line x1="0" y1="12" x2="40" y2="12" class="L1" stroke-width="4"/>
    <text x="52" y="15" class="legendText">ğ“›â‚ Segment detection: Silence/Latent â†’ Cue â†’ Segment</text>

    <g transform="translate(300,0)">
      <line x1="0" y1="12" x2="40" y2="12" class="L2" stroke-width="4"/>
      <text x="52" y="15" class="legendText">ğ“›â‚‚ Driftâ€“Repair: Segment â†’ Drift â†’ Cue â†’ Repair</text>
    </g>

    <g transform="translate(640,0)">
      <line x1="0" y1="12" x2="40" y2="12" class="L3" stroke-width="4"/>
      <text x="52" y="15" class="legendText">ğ“›â‚ƒ Latent phase: Silence â†’ Latent â†’ Cue â†’ Segment</text>
    </g>

    <g transform="translate(0,26)">
      <line x1="0" y1="12" x2="40" y2="12" class="L4" stroke-width="4"/>
      <text x="52" y="15" class="legendText">ğ“›â‚„ Feedback reflex: Drift â†’ Repair â†’ Cue â†’ Segment/Drift</text>
    </g>

    <g transform="translate(420,26)">
      <line x1="0" y1="12" x2="40" y2="12" class="L5" stroke-width="4"/>
      <text x="52" y="15" class="legendText">ğ“›â‚… Alignmentâ€“Resonance: Alignment â‡„ Cue (closure/transfer)</text>
    </g>
  </g>
</svg>
